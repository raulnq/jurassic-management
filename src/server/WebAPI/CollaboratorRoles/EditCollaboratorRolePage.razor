@using WebAPI.Infrastructure.SqlKata;
@using WebAPI.Infrastructure.Ui;
@using WebAPI.CollaboratorRoles;

<Heading Text="Collaborator Roles" />
<Breadcrumbs Links=@(new Breadcrumbs.Link[]{ new("List collaborators roles", Endpoints.List.AddListParameters()), new("Edit collaborator role") })
             Target=@(Infrastructure.Ui.Targets.Workspace) />
<Section>
    <Content>
        <Form HtmxProps=@(new HtmxProps(Endpoints.GetEdit(@Result.CollaboratorRoleId),Infrastructure.Ui.Targets.Workspace))>
            <Content>
                <FormRow>
                    <Content>
                        <div class="col">
                            <TextInput Property=@nameof(EditCollaboratorRole.Command.Name)
                                       Label="Name"
                                       Placeholder="Enter name"
                                       Value=@Result.Name
                                       Required=true />
                        </div>
                    </Content>
                </FormRow>
                <FormRow>
                    <Content>
                        <div class="col-6">
                            <NumberInput Property=@nameof(EditCollaboratorRole.Command.ProfitPercentage)
                                         Label="Profit percentage"
                                         Placeholder="Enter profit percentage"
                                         Sufix="%"
                                         Max=100
                                         Min=0
                                         Step=0.01m
                                         Value=@Result.ProfitPercentage
                                         Required=true />
                        </div>
                        <div class="col-6">
                            <NumberInput Property=@nameof(EditCollaboratorRole.Command.FeeAmount)
                                         Label="Fee amount"
                                         Placeholder="Enter fee amount"
                                         Prefix="$"
                                         Min=0
                                         Step=0.01m
                                         Value=@Result.FeeAmount
                                         Required=true />
                        </div>
                    </Content>
                </FormRow>
            </Content>
        </Form>
    </Content>
</Section>

@code {
    [Parameter, EditorRequired]
    public GetCollaboratorRole.Result Result { get; set; } = default!;
}
