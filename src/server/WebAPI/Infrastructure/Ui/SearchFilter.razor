@using WebAPI.Infrastructure.SqlKata

@if (string.IsNullOrEmpty(HtmxProps.Select))
{
    <input type="search"
           class="form-control"
           name=@Property
           id=@Property
           placeholder=@Label
           hx-trigger="input changed delay:500ms, search"
           hx-get="@HtmxProps.Endpoint.AddListParameters(1, @Query.PageSize,@Query.Ascending)"
           hx-swap=@HtmxProps.Swap
           hx-target=@HtmxProps.Target />
}
else
{
    <input type="search"
           class="form-control"
           name=@Property
           id=@Property
           placeholder=@Label
           hx-trigger="input changed delay:500ms, search"
           hx-get="@HtmxProps.Endpoint.AddListParameters(1, @Query.PageSize,@Query.Ascending)"
           hx-swap=@HtmxProps.Swap
           hx-target=@HtmxProps.Target
           hx-select=@HtmxProps.Select />
}


@code {
    [Parameter, EditorRequired]
    public string Label { get; set; } = default!;
    [Parameter, EditorRequired]
    public string Property { get; set; } = default!;
    [Parameter, EditorRequired]
    public ListQuery Query { get; set; } = default!;
    [Parameter, EditorRequired]
    public HtmxProps HtmxProps { get; set; } = default!;
}
